@namespace GeneralComponents.Shared
@inherits LayoutComponentBase



<MatAppBarContainer>
    <MatAppBar Fixed="true">
        <MatAppBarRow>
            <MatAppBarSection>
                <MatIconButton Icon="menu" @onclick="ToggleMenu"></MatIconButton>
                <MatAppBarTitle>@Name</MatAppBarTitle>
            </MatAppBarSection>
            <MatAppBarSection Align="@MatAppBarSectionAlign.End">
                @*<MatIconButton Icon="favorite"></MatIconButton>*@
                @*<GeneralComponents.Shared.Navigation.LanguageSelect />*@
            </MatAppBarSection>
        </MatAppBarRow>
    </MatAppBar>

    <MatAppBarContent>
        <MatDrawerContainer Style="width: 100vw; height: 100vh;">
            <MatDrawer @bind-Opened="@Opened" Mode="@MatDrawerMode.Dismissible">
                <NavMenu />
            </MatDrawer>
            <MatDrawerContent>
                @Body
            </MatDrawerContent>
        </MatDrawerContainer>
    </MatAppBarContent>
</MatAppBarContainer>

@code{
    bool Opened = true;
    string Name = "Blazor";

    [Inject] ILogger<MainLayout> m_Logger { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        //var config = await ConfigProvider.GetConfig();
        //Name = config.Name;
        m_Logger.LogDebug("MainLayout OnInitAsync()");
    }

    void ToggleMenu()
    {
        Opened =!Opened;
    }
}